<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>Python version control with Anaconda - 1</title>
  <meta name="description" content="Python version control with Anaconda">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/2017/04/28/conda-1/">
  
  
  <link rel="alternate" type="application/rss+xml" title="Gong4.py" href="http://localhost:4000/feed.xml">

  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:title" content="Python version control with Anaconda - 1">
  <meta name="twitter:description" content="Python version control with Anaconda">
  
  

  <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Gong4.py</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
        
        <a class="page-link" href="/conf-2017">Conference 2017</a>
      
        
        <a class="page-link" href="https://github.com/yous/whiteglass">GitHub</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">Python version control with Anaconda - 1</h1>
    
    <p class="post-meta"><time datetime="2017-04-28T20:00:00+09:00" itemprop="datePublished">Apr 28, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h1 id="python-version-control-with-anaconda">Python version control with Anaconda</h1>

<p>last edit: 2017. 4. 28 by JuneTech</p>

<h2 id="anaconda">Anaconda</h2>

<p><img src="http://ijstokes-public.s3.amazonaws.com/dspyr/img/AnacondaCIO_Logo" alt="Anaconda_logo" /></p>

<blockquote>
  <p>Anaconda is the leading open data science platform powered by Python. The open source version of Anaconda is a high performance distribution of Python and R and includes over 100 of the most popular Python, R and Scala packages for data science.</p>
</blockquote>

<ul>
  <li>Freemium open source distribution of the Python and R programming languages</li>
  <li>Aims to simplify package management and deployment</li>
  <li>Uses <strong>Conda</strong> as a package management system</li>
</ul>

<h2 id="conda">Conda</h2>

<p><img src="https://conda.io/docs/_images/conda_logo.svg" alt="Conda_logo" /></p>
<blockquote>
  <p>Package, dependency and environment management for any language: Python, R, Ruby, Lua, Scala, Java, Javascript, C/ C++, FORTRAN</p>
</blockquote>

<ul>
  <li>Substitutes pip</li>
</ul>

<h2 id="basic-conda-commands">Basic conda commands</h2>

<ul>
  <li><code class="highlighter-rouge">conda install scikit-learn</code></li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>Fetching package metadata ...........
Solving package specifications: .

Package plan <span class="k">for </span>installation <span class="k">in </span>environment C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3:

The following NEW packages will be INSTALLED:

    mkl:          2017.0.1-0
    numpy:        1.12.1-py36_0
    scikit-learn: 0.18.1-np112py36_1
    scipy:        0.19.0-np112py36_0

The following packages will be UPDATED:

    conda:        4.3.11-py36_0      --&gt; 4.3.16-py36_0

Proceed <span class="o">([</span>y]/n<span class="o">)</span>? y

mkl-2017.0.1-0 100% |###############################| Time: 0:00:06  22.44 MB/s
numpy-1.12.1-p 100% |###############################| Time: 0:00:00  12.91 MB/s
scipy-0.19.0-n 100% |###############################| Time: 0:00:00  20.44 MB/s
scikit-learn-0 100% |###############################| Time: 0:00:00  21.88 MB/s
conda-4.3.16-p 100% |###############################| Time: 0:00:00  36.47 MB/s
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">conda update python</code></li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>PS C:<span class="se">\W</span>INDOWS<span class="se">\s</span>ystem32&gt; conda update python
Fetching package metadata ...........
Solving package specifications: .

Package plan <span class="k">for </span>installation <span class="k">in </span>environment C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3:

The following packages will be UPDATED:

    python: 3.6.0-0 --&gt; 3.6.1-0

Proceed <span class="o">([</span>y]/n<span class="o">)</span>? y

python-3.6.1-0 100% |###############################| Time: 0:00:04   7.90 MB/s
</code></pre>
</div>

<ul>
  <li>
    <p><code class="highlighter-rouge">upgrade</code> command acts the same as <code class="highlighter-rouge">update</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">conda update --all</code></p>
  </li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>PS C:<span class="se">\W</span>INDOWS<span class="se">\s</span>ystem32&gt; conda update --all
Fetching package metadata ...........
Solving package specifications: .

Package plan <span class="k">for </span>installation <span class="k">in </span>environment C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3:

The following packages will be UPDATED:

    pyasn1:   0.1.9-py36_0  --&gt; 0.2.3-py36_0
    pycosat:  0.6.1-py36_1  --&gt; 0.6.2-py36_0
    requests: 2.12.4-py36_0 --&gt; 2.13.0-py36_0

Proceed <span class="o">([</span>y]/n<span class="o">)</span>? y

pyasn1-0.2.3-p 100% |###############################| Time: 0:00:00   2.11 MB/s
pycosat-0.6.2- 100% |###############################| Time: 0:00:00   3.84 MB/s
requests-2.13. 100% |###############################| Time: 0:00:00   6.00 MB/s
</code></pre>
</div>

<h2 id="environment-using-multiple-version-of-python">Environment: using multiple version of Python</h2>

<p>Gurobi 7.0.2 supports python up to version 2.7 and 3.5, so installing gurobipy on python 3.6.1 is impossible yet</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>C:<span class="se">\g</span>urobi702<span class="se">\w</span>in64&gt;python --version
Python 3.6.1 :: Continuum Analytics, Inc.

C:<span class="se">\g</span>urobi702<span class="se">\w</span>in64&gt;python setup.py
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
  File <span class="s2">"setup.py"</span>, line 23, <span class="k">in</span> &lt;module&gt;
    raise RuntimeError<span class="o">(</span><span class="s2">"Unsupported Python version"</span><span class="o">)</span>
RuntimeError: Unsupported Python version
</code></pre>
</div>

<p>So, create new environment with python 3.5:</p>
<ul>
  <li><code class="highlighter-rouge">conda create -n python35 python=3.5 anaconda</code></li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>PS D:<span class="se">\p</span>rojects<span class="se">\r</span>sch_20170420&gt; conda create -n python35 <span class="nv">python</span><span class="o">=</span>3.5 anaconda
Fetching package metadata ...........
Solving package specifications: .

Package plan <span class="k">for </span>installation <span class="k">in </span>environment C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3<span class="se">\e</span>nvs<span class="se">\p</span>ython35:

The following NEW packages will be INSTALLED:

    _license:            1.1-py35_1
    alabaster:           0.7.9-py35_0
    anaconda:            4.3.1-np111py35_0
    anaconda-client:     1.6.0-py35_0
    anaconda-navigator:  1.5.0-py35_0
    anaconda-project:    0.4.1-py35_0
    argcomplete:         1.0.0-py35_1
    ...
    vs2015_runtime:      14.0.25123-0
    wcwidth:             0.1.7-py35_0
    werkzeug:            0.11.15-py35_0
    wheel:               0.29.0-py35_0
    widgetsnbextension:  1.2.6-py35_0
    win_unicode_console: 0.5-py35_0
    wrapt:               1.10.8-py35_0
    xlrd:                1.0.0-py35_0
    xlsxwriter:          0.9.6-py35_0
    xlwings:             0.10.2-py35_0
    xlwt:                1.2.0-py35_0
    zlib:                1.2.8-vc14_3       <span class="o">[</span>vc14]

    Proceed <span class="o">([</span>y]/n<span class="o">)</span>? y

    ...

    jupyter-1.0.0- 100% |###############################| Time: 0:00:00 294.10 kB/s
    anaconda-4.3.1 100% |###############################| Time: 0:00:00   2.36 MB/s
    <span class="c">#</span>
    <span class="c"># To activate this environment, use:</span>
    <span class="c"># &gt; activate python35</span>
    <span class="c">#</span>
    <span class="c"># To deactivate this environment, use:</span>
    <span class="c"># &gt; deactivate python35</span>
    <span class="c">#</span>
    <span class="c"># * for power-users using bash, you must source</span>
    <span class="c">#</span>
</code></pre>
</div>

<p>Switching to python 3.5 installed above:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>C:<span class="se">\g</span>urobi702<span class="se">\w</span>in64&gt;activate python35

<span class="o">(</span>python35<span class="o">)</span> C:<span class="se">\g</span>urobi702<span class="se">\w</span>in64&gt;python --version
Python 3.5.2 :: Anaconda 4.3.1 <span class="o">(</span>64-bit<span class="o">)</span>
</code></pre>
</div>

<p>and see if the installation works:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="o">(</span>python35<span class="o">)</span> C:<span class="se">\g</span>urobi702<span class="se">\w</span>in64&gt;python setup.py install
running install
running build
running build_py
running install_lib
creating C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3<span class="se">\e</span>nvs<span class="se">\p</span>ython35<span class="se">\L</span>ib<span class="se">\s</span>ite-packages<span class="se">\g</span>urobipy
copying build<span class="se">\l</span>ib<span class="se">\g</span>urobipy<span class="se">\g</span>urobipy.pyd -&gt; C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3<span class="se">\e</span>nvs<span class="se">\p</span>ython35<span class="se">\L</span>ib<span class="se">\s</span>ite-packages<span class="se">\g</span>urobipy
copying build<span class="se">\l</span>ib<span class="se">\g</span>urobipy<span class="se">\_</span>_init__.py -&gt; C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3<span class="se">\e</span>nvs<span class="se">\p</span>ython35<span class="se">\L</span>ib<span class="se">\s</span>ite-packages<span class="se">\g</span>urobipy
byte-compiling C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3<span class="se">\e</span>nvs<span class="se">\p</span>ython35<span class="se">\L</span>ib<span class="se">\s</span>ite-packages<span class="se">\g</span>urobipy<span class="se">\_</span>_init__.py to __init__.cpython-35.pyc
running install_egg_info
Writing C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3<span class="se">\e</span>nvs<span class="se">\p</span>ython35<span class="se">\L</span>ib<span class="se">\s</span>ite-packages<span class="se">\g</span>urobipy-7.0.2-py3.5.egg-info
</code></pre>
</div>

<h2 id="environment-commands">Environment commands</h2>

<ul>
  <li><code class="highlighter-rouge">conda env list</code></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>PS D:\&gt; conda env list
# conda environments:
#
konlp                    C:\ProgramData\Miniconda3\envs\konlp
python35                 C:\ProgramData\Miniconda3\envs\python35
root                  *  C:\ProgramData\Miniconda3
</code></pre>
</div>

<ul>
  <li>Export list of packages installed in environments: <code class="highlighter-rouge">conda list --export &gt; package_list.txt</code></li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>C:<span class="se">\U</span>sers<span class="se">\J</span>T&gt;activate python35

<span class="o">(</span>python35<span class="o">)</span> C:<span class="se">\U</span>sers<span class="se">\J</span>T&gt;conda list
<span class="c"># packages in environment at C:\ProgramData\Miniconda3\envs\python35:</span>
<span class="c">#</span>
_license                  1.1                      py35_1
alabaster                 0.7.10                   py35_0
anaconda                  custom                   py35_0
anaconda-client           1.6.3                    py35_0
...
gurobipy                  7.0.2                     &lt;pip&gt;
h5py                      2.7.0               np112py35_0
hdf5                      1.8.15.1                 vc14_4  <span class="o">[</span>vc14]
heapdict                  1.0.0                    py35_1
html5lib                  0.999                    py35_0
...
ipython                   6.0.0                    py35_1
ipython_genutils          0.2.0                    py35_0
ipywidgets                6.0.0                    py35_0
...
jupyter                   1.0.0                    py35_3
jupyter_client            5.0.1                    py35_0
jupyter_console           5.1.0                    py35_0
jupyter_core              4.3.0                    py35_0
...
matplotlib                2.0.2               np112py35_0
menuinst                  1.4.7                    py35_0
...
xlrd                      1.0.0                    py35_0
xlsxwriter                0.9.6                    py35_0
xlwings                   0.10.4                   py35_0
xlwt                      1.2.0                    py35_0
zlib                      1.2.8                    vc14_3  <span class="o">[</span>vc14]
</code></pre>
</div>

<ul>
  <li>Export environment information: <code class="highlighter-rouge">conda env export --file FILENAME.yml</code></li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="o">(</span>python35<span class="o">)</span> C:<span class="se">\U</span>sers<span class="se">\J</span>T&gt;conda env <span class="nb">export</span> --file gurobipy35
[31mDEPRECATION: The default format will switch to columns <span class="k">in </span>the future. You can use --format<span class="o">=(</span>legacy|columns<span class="o">)</span> <span class="o">(</span>or define a <span class="nv">format</span><span class="o">=(</span>legacy|columns<span class="o">)</span> <span class="k">in </span>your pip.conf under the <span class="o">[</span>list] section<span class="o">)</span> to disable this warning.[0m
</code></pre>
</div>

<ul>
  <li>Use environment from file: <code class="highlighter-rouge">conda env create -f envorinment.yml</code></li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>걍 되어야하는데 안되네요. 왜 그런지 좀 더 파보겠습니다...
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">conda env remove --name ENVNAME</code></li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>PS D:<span class="se">\&gt;</span> conda env remove --name konlp

Package plan <span class="k">for </span>package removal <span class="k">in </span>environment C:<span class="se">\P</span>rogramData<span class="se">\M</span>iniconda3<span class="se">\e</span>nvs<span class="se">\k</span>onlp:

The following packages will be REMOVED:

    pip:            9.0.1-py27_1
    python:         2.7.13-1
    setuptools:     27.2.0-py27_1
    vs2008_runtime: 9.00.30729.5054-0
    wheel:          0.29.0-py27_0

Proceed <span class="o">([</span>y]/n<span class="o">)</span>? y

Unlinking packages ...
<span class="o">[</span>      COMPLETE      <span class="o">]</span>|##################################################| 100%
</code></pre>
</div>

  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

&copy;  - Powered by <a href="https://jekyllrb.com">Jekyll</a> &amp; <a href="https://github.com/yous/whiteglass">whiteglass</a> - Subscribe via <a href="http://localhost:4000/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
